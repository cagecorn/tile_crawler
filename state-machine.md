# 상태 머신 (State Machine) 요약

이 문서는 게임 내 주요 객체들의 상태 변화 흐름을 정의합니다.

## 1. 게임 상태 (Game State)

* **`Running`**: 기본 게임 플레이 상태. 게임 루프가 `update`와 `render`를 계속 호출합니다.
    * **-> `Paused`**: 메뉴 창이나 정보 창이 열렸을 때 전환됩니다. `update` 로직은 멈추지만, `render`는 계속되어 UI를 볼 수 있습니다.
    * **-> `GameOver`**: 플레이어의 HP가 0 이하가 되면 전환됩니다. 모든 `update`와 `render` 로직이 멈춥니다.
* **`Paused`**:
    * **-> `Running`**: 열려있던 UI 창이 닫히면 전환됩니다.
* **`GameOver`**:
    * **-> (재시작)**: 플레이어의 선택에 따라 게임을 새로 시작합니다.

## 2. 몬스터/용병 AI 상태 (AI State)

모든 AI 유닛은 `MetaAIManager`로부터 받은 **그룹 전략(Strategy)**을 기반으로 자신의 상태를 결정합니다.

### 그룹 전략: `AGGRESSIVE` (공격적)

* **`IdleState` (대기 상태)**: 기본 상태.
    * **조건:** 시야(`visionRange`) 내에 적이 없음.
    * **행동:** 제자리에서 대기. (용병의 경우, 플레이어를 따라다님)
    * **상태 전환:** 시야 내에 적이 들어오면 **`ChasingState`**로 전환.
* **`ChasingState` (추격 상태)**: `IdleState`에서 전환됨.
    * **조건:** 시야 내에 적이 있으나, 공격 범위(`attackRange`) 밖에 있음.
    * **행동:** 가장 가까운 적을 향해 이동.
    * **상태 전환:**
        * 적이 공격 범위 내로 들어오면 **`AttackingState`**로 전환.
        * 적이 시야 밖으로 사라지면 **`IdleState`**로 전환.
* **`AttackingState` (공격 상태)**: `ChasingState`에서 전환됨.
    * **조건:** 적이 공격 범위 내에 있음.
    * **행동:** 공격 (기본 공격 또는 스킬 사용). 이동하지 않음.
    * **상태 전환:** 적이 공격 범위 밖으로 벗어나면 **`ChasingState`**로 전환.

---

*이 문서는 새로운 AI 상태나 게임 상태가 추가될 때마다 계속 업데이트되어야 합니다.*

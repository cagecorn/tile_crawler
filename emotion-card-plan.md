# [미래 계획] MBTI 감정 카드 시스템

이 문서는 유닛의 정적인 MBTI 성격에 '상태'라는 동적인 변수를 추가하여, 전투에 새로운 전략적 깊이를 더하는 'MBTI 감정 카드' 시스템의 기획안입니다.

## 1. 컨셉 (Concept)

-   유닛의 MBTI 유형(예: INFP)은 고유한 성격으로 유지하되, 전투 중 특정 행동을 통해 일시적으로 특정 **'알파벳 상태'**(예: 'P 상태', 'F 상태')에 돌입하는 시스템을 추가합니다.
-   플레이어는 '감정 카드'라는 새로운 종류의 아이템을 획득하여, 유닛의 전용 슬롯에 장착할 수 있습니다.
-   유닛이 특정 '알파벳 상태'가 되었을 때, 미리 장착해 둔 해당 알파벳의 '감정 카드'가 활성화되어 강력한 보너스 효과를 제공합니다.
-   이를 통해 플레이어는 유닛의 MBTI 성격과 시너지를 내거나, 약점을 보완하는 방향으로 커스터마이징하는 재미를 느낄 수 있습니다.

## 2. 주요 구성 요소 (Key Components)

### 2.1. 알파벳 상태 (Alphabet States)

-   **정의**: 'E 상태', 'I 상태', 'P 상태' 등 8가지 알파벳에 해당하는 일시적인 버프(또는 디버프)입니다.
-   **구현**: `src/data/effects.js`에 `type: 'state'`를 가진 새로운 효과로 구현됩니다. 각 효과는 지속 시간을 가집니다.
-   **발동 조건**: 스킬 사용, 치명타 발생, 특정 아이템 사용, 피격 등 다양한 인게임 이벤트를 통해 발동시킬 수 있습니다. (예: '돌진' 스킬 사용 시 10초간 'P 상태'가 됨)

### 2.2. 감정 카드 (Emotion Cards)

-   **정의**: 새로운 '카드' 타입의 장비 아이템입니다. 각 카드는 E, I, S, N, T, F, P, J 중 하나의 알파벳과 연결됩니다.
-   **효과**: 카드를 장착하는 것만으로는 아무 효과가 없습니다. 대신, 유닛이 카드의 알파벳과 일치하는 '알파벳 상태'가 되었을 때만 활성화되는 **조건부 효과**를 가집니다.
-   **예시**: '격분의 P 카드'는 "유닛이 'P 상태'일 때 공격력 5% 증가" 라는 숨겨진 효과를 부여합니다.

### 2.3. 감정 카드 슬롯 (UI)

-   **정의**: 유닛의 상세 정보창(캐릭터 시트)에 새로운 UI 패널이 추가됩니다.
-   **구조**: **I/E**, **S/N**, **T/F**, **J/P** 로 나뉜 4개의 슬롯 그룹이 있으며, 각 그룹에는 하나의 카드만 장착할 수 있습니다. (예: I 카드와 E 카드를 동시에 장착할 수 없음)
-   **구현**: 유닛(`Entity`) 객체에 `emotionSlots: { IE: null, SN: null, TF: null, JP: null }` 와 같은 새로운 속성을 추가하여 장착 상태를 저장합니다.

## 3. 작동 방식 (How it Works)

1.  플레이어가 용병에게 **'격분의 P 카드'**를 장착시킵니다.
2.  용병은 눈에 보이지 않는 **"P 상태가 되면 공격력 5% 증가"**라는 패시브 능력을 얻게 됩니다.
3.  전투 중, 용병이 '돌진' 스킬을 사용하여 10초간 지속되는 **'P 상태'** 효과를 얻습니다.
4.  `StatManager`는 매번 스탯을 재계산할 때, 용병이 'P 상태' 효과를 가지고 있는 것을 확인하고, '격분의 P 카드' 효과를 활성화하여 최종 공격력을 5% 증가시킵니다.
5.  10초가 지나 'P 상태' 효과가 사라지면, `StatManager`는 다음 재계산 시 공격력 보너스를 비활성화합니다.

## 4. 개발 단계 (Development Phases)

1.  **1단계 (기반 구축)**: '알파벳 상태'를 `effects.js`에 정의하고, `StatManager`에 이 상태를 감지하여 조건부 스탯 보너스를 주는 로직을 구현합니다. (개념 증명)
2.  **2단계 (아이템 및 UI 구현)**: '감정 카드'를 실제 아이템으로 만들고, 이를 장착하고 해제할 수 있는 전용 UI를 구현합니다. `EffectManager`와 `StatManager`가 장착된 카드 정보를 기반으로 조건부 스탯을 계산하도록 수정합니다.
3.  **3단계 (상태 발동 조건 구현)**: 다양한 스킬과 게임 내 이벤트에 '알파벳 상태'를 유발하는 트리거를 추가하여 시스템을 완성합니다.
